(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(59)},31:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),o=a.n(s),l=(a(31),a(3)),c=a(4),i=a(6),m=a(5),u=a(7),d=a(61),p=a(62),h=a(63),E=(a(33),a(35),20),g="https://hacker-news.firebaseio.com/v0/",f="https://hacker-news.firebaseio.com/v0/item/",b=a(24),v=a(12),y=a.n(v),w=function(e){var t=Date.now()-1e3*e;return t<6e4?Math.round(t/1e3)+" seconds ago":t<36e5?Math.round(t/6e4)+" minutes ago":t<864e5?Math.round(t/36e5)+" hours ago":t<2592e6?"approximately "+Math.round(t/864e5)+" days ago":t<31536e6?"approximately "+Math.round(t/2592e6)+" months ago":"approximately "+Math.round(t/31536e6)+" years ago"},k=function(e){return function(t){return function(a){function n(){var t;return Object(l.a)(this,n),(t=Object(i.a)(this,Object(m.a)(n).call(this))).getDataFromApi=function(){var a=t.state.currentPage*E,n=a-E;y.a.get("".concat(g).concat(e,".json")).then(function(e){t.setState({noOfMaxPage:Math.ceil(e.data.length/E)});for(var r=n;r<a;r++)y.a.get("".concat(f).concat(e.data[r],".json")).then(function(e){var a={id:e.data.id,by:e.data.by,type:e.data.type,title:e.data.title,url:e.data.url,points:e.data.score,commentIdArray:e.data.kids,time:w(e.data.time)};t.state.isMounted&&t.setState({stories:[].concat(Object(b.a)(t.state.stories),[a]),isLoading:!1})}).catch(function(e){return e})})},t.onPreviousClick=function(){t.setState({stories:[],currentPage:t.state.currentPage-1},function(){t.getDataFromApi()})},t.onNextClick=function(){t.setState({stories:[],currentPage:t.state.currentPage+1},function(){t.getDataFromApi()})},t.state={stories:[],isLoading:!1,currentPage:1,noOfMaxPage:"",isMounted:!1},t}return Object(u.a)(n,a),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getDataFromApi(),this.setState({isLoading:!0,isMounted:!0})}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1})}},{key:"render",value:function(){return r.a.createElement(t,{onPreviousClick:this.onPreviousClick,onNextClick:this.onNextClick,nextPage:this.state.noOfMaxPage,currentPage:this.state.currentPage,stories:this.state.stories,getDataFromApi:this.getDataFromApi,isLoading:this.state.isLoading})}}]),n}(r.a.Component)}},N=a(60),P=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).dropDown=function(){document.getElementById("myDropdown").classList.toggle("show")},e.onLogOut=function(){e.setState({userName:""}),window.localStorage.setItem("currentUser",JSON.stringify(e.state.userName))},e.state={active:"Home",userName:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(window.localStorage.getItem("currentUser"));this.setState({userName:e.username})}},{key:"render",value:function(){var e=this.state.userName?r.a.createElement("div",{className:"dropdown"},r.a.createElement("span",{className:"dropbtn",onClick:this.dropDown},this.state.userName),r.a.createElement("div",{id:"myDropdown",className:"dropdown-content"},r.a.createElement("span",{onClick:this.onLogOut},"Log Out"),r.a.createElement(N.a,{to:"/bookmarks"},"Bookmarks"))):r.a.createElement(N.a,{to:"/login"},"Login");return r.a.createElement("div",{className:"tabs clearfix"},r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(N.a,{to:"/"},r.a.createElement("h1",null,"HACKER NEWS")))),r.a.createElement("div",{className:"wrapper clearfix"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(N.a,{to:"/newStory"},"New Stories")),r.a.createElement("li",null,r.a.createElement(N.a,{to:"/jobStory"},"Job")),r.a.createElement("li",null,r.a.createElement(N.a,{to:"/askStory"},"Ask")),r.a.createElement("div",{className:"login"},e))))}}]),t}(r.a.Component),C=function(e){var t=e.stories.map(function(t){return e.isLoading?r.a.createElement("p",null,"Loading"):r.a.createElement("li",{className:"storylist",key:t.id},e.isLogin?r.a.createElement("div",{class:"bookmark",onClick:function(){return e.onBookMarkClick(t)}}):"",r.a.createElement("a",{href:t.url},t.title),r.a.createElement("div",null,r.a.createElement("span",null," ",t.points," points | "),r.a.createElement("span",null,"by ",t.by," | "),r.a.createElement("span",null,"approximately ",t.time," | "),r.a.createElement(N.a,{to:{pathname:"item/".concat(t.id),state:{story:t}}},r.a.createElement("span",{className:"comments"},"comments (",t.commentIdArray?t.commentIdArray.length:0,")"))))});return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement("div",{className:"button_container clearfix"},r.a.createElement("div",{className:"button_right"},r.a.createElement("button",{onClick:e.onPreviousClick,disabled:1===e.currentPage},"\xab Prev"),r.a.createElement("span",null,e.currentPage),r.a.createElement("button",{onClick:e.onNextClick,disabled:e.currentPage===e.noOfMaxPage},"Next \xbb"))),r.a.createElement("div",{className:"stories"},t))},O=k("topstories")(function(e){return r.a.createElement(C,{stories:e.stories,onPreviousClick:e.onPreviousClick,onNextPreviousClick:e.onNextPreviousClick,noOfMaxPage:e.noOfMaxPage,currentPage:e.currentPage})}),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t){t.preventDefault();var a=window.localStorage.getItem("userData");JSON.parse(a).forEach(function(t){t.username===e.state.username&&t.password===e.state.password&&(alert("Logged in"),window.localStorage.setItem("currentUser",JSON.stringify(t)),e.props.history.push({pathname:"/",state:t.username}))})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;switch(n){case"username":e.setState({username:r});break;case"password":e.setState({password:r})}},e.handleClick=function(){e.props.history.push("/")},e.state={username:"",password:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"title-bar clearfix"},r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"cancelbtn"})),r.a.createElement("div",{className:"login-container"},r.a.createElement("h2",null,"Login"),r.a.createElement("label",{htmlFor:"uname"},r.a.createElement("b",null,"Username")),r.a.createElement("input",{type:"text",placeholder:"Enter Username",onChange:this.handleChange,name:"username",className:"uname",required:!0}),r.a.createElement("label",{htmlFor:"psw"},r.a.createElement("b",null,"Password")),r.a.createElement("input",{type:"password",placeholder:"Enter Password",className:"psw",onChange:this.handleChange,name:"password",required:!0}),r.a.createElement("button",{type:"submit",className:"login-btn"},"Login"),r.a.createElement("label",{className:"remember"},"Remember me"),r.a.createElement("input",{type:"checkbox",name:"remember"}),r.a.createElement("div",{class:"register-row"},r.a.createElement("span",null,"Don't Have an account"),r.a.createElement(N.a,{to:"/register"},"Register"))))}}]),t}(r.a.Component),S=k("")(function(e){var t=(window.localStorage.getItem("currentUser")?JSON.parse(window.localStorage.getItem("currentUser")):"").bookmarks,a=t.map(function(e){return r.a.createElement("li",{className:"storylist",key:e.id},r.a.createElement("a",{href:e.url},e.title),r.a.createElement("div",null,r.a.createElement("span",null," ",e.points," points | "),r.a.createElement("span",null,"by ",e.by," | "),r.a.createElement("span",null,"approximately ",e.time," | "),r.a.createElement(N.a,{to:{pathname:"item/".concat(e.id),state:{story:e}}},r.a.createElement("span",{className:"comments"},"comments (",e.commentIdArray?e.commentIdArray.length:0,")"))))});return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement("div",{className:"button_container clearfix"},r.a.createElement("div",{className:"button_right"},r.a.createElement("button",{onClick:e.onPreviousClick,disabled:1===e.currentPage},"\xab Prev"),r.a.createElement("span",null,e.currentPage),r.a.createElement("button",{onClick:e.onNextClick,disabled:e.currentPage===e.noOfMaxPage},"Next \xbb"))),r.a.createElement("div",{className:"stories"}),a)}),j=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleValidation=function(){var t="",a="",n="",r="",s="";return JSON.parse(window.localStorage.getItem("userData")).forEach(function(t){e.state.username===t.username&&(n="Username already exists"),e.state.email===t.email&&(a="Email already exists")}),e.state.name||(t="Please enter your name"),e.state.name.length<3&&(t="Minimum character of 3 required"),e.state.password||(r="Enter password"),e.state.confirmPassword||(s="Enter Confirm password"),e.state.email.includes("@")||(a="Invalid email"),e.state.username||(n="Enter a username"),e.state.password!==e.state.confirmPassword&&(s="Did not match password"),!(t||a||n||s||r)||(e.setState({formErrors:{name:t,email:a,username:n,password:r,confirmPassword:s}}),!1)},e.handleSubmit=function(t){var a=JSON.parse(localStorage.getItem("userData"))||[];t.preventDefault(),e.handleValidation()&&(a.push({name:e.state.name,email:e.state.email,username:e.state.username,password:e.state.password}),window.localStorage.setItem("userData",JSON.stringify(a)),e.props.history.push("/login"))},e.handleChange=function(t){t.preventDefault();var a=t.target,n=a.name,r=a.value;switch(n){case"name":e.setState({name:r});break;case"email":e.setState({email:r});break;case"uname":e.setState({username:r});break;case"psw":e.setState({password:r});break;case"cpsw":e.setState({confirmPassword:r})}},e.handleClick=function(){e.props.history.push("/")},e.state={name:"",email:"",username:"",password:"",confirmPassword:"",formErrors:{name:"",email:"",username:"",password:"",confirmPassword:""}},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("div",{class:"title-bar clearfix"},r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"cancelbtn"})),r.a.createElement("div",{className:"login-container"},r.a.createElement("h2",null,"Register"),r.a.createElement("label",{htmlFor:"name"},r.a.createElement("b",null,"Your Name *")),r.a.createElement("input",{type:"text",placeholder:"Enter your name",name:"name",value:this.state.name,onChange:this.handleChange,noValidate:!0}),r.a.createElement("div",{className:"required"},this.state.formErrors.name),r.a.createElement("label",{htmlFor:"email"},r.a.createElement("b",null,"Your Email *")),r.a.createElement("input",{type:"email",placeholder:"Enter your email",name:"email",value:this.state.email,onChange:this.handleChange,noValidate:!0}),r.a.createElement("div",{className:"required"},this.state.formErrors.email),r.a.createElement("label",{htmlFor:"uname"},r.a.createElement("b",null,"Username *")),r.a.createElement("input",{type:"text",placeholder:"Enter Username",name:"uname",value:this.state.username,onChange:this.handleChange,noValidate:!0}),r.a.createElement("div",{className:"required"},this.state.formErrors.username),r.a.createElement("label",{htmlFor:"psw"},r.a.createElement("b",null,"Password *")),r.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"psw",value:this.state.password,onChange:this.handleChange,noValidate:!0}),r.a.createElement("div",{className:"required"},this.state.formErrors.password),r.a.createElement("label",{htmlFor:"cpsw"},r.a.createElement("b",null,"Confirm Password *")),r.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"cpsw",value:this.state.confirmPassword,onChange:this.handleChange,noValidate:!0}),r.a.createElement("div",{className:"required"},this.state.formErrors.confirmPassword),r.a.createElement("button",{type:"submit",className:"login-btn"},"Register"),r.a.createElement("div",{className:"login-bottom"},r.a.createElement(N.a,{to:"/login"},"Login"))))}}]),t}(r.a.Component),M=k("askstories")(function(e){return r.a.createElement(C,{stories:e.stories,onPreviousClick:e.onPreviousClick,onNextPreviousClick:e.onNextPreviousClick,noOfMaxPage:e.noOfMaxPage,currentPage:e.currentPage})}),I=k("jobstories")(function(e){return r.a.createElement(C,{stories:e.stories,onPreviousClick:e.onPreviousClick,onNextPreviousClick:e.onNextPreviousClick,noOfMaxPage:e.noOfMaxPage,currentPage:e.currentPage})}),D=k("newstories")(function(e){return r.a.createElement(C,{stories:e.stories,onPreviousClick:e.onPreviousClick,onNextPreviousClick:e.onNextPreviousClick,noOfMaxPage:e.noOfMaxPage,currentPage:e.currentPage})}),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this))).state={id:e.id,parent:"",by:"",type:"",text:"",commentIdArray:"",time:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getComment()}},{key:"getComment",value:function(){var e,t=this;(e=this.props.id,y.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json?print=pretty")).then(function(e){return e.data}).catch(function(e){return e})).then(function(e){t.setState({id:e.id,parent:e.parent,by:e.by,type:e.type,text:e.text,commentIdArray:e.kids,time:w(e.time)})}).catch(function(e){return e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"singlecomment"},r.a.createElement("div",{className:"user"},r.a.createElement("span",{className:"userName"},this.state.by," | "),r.a.createElement("span",{className:"timecomment"},this.state.time)),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.text}}),r.a.createElement("div",{className:"replies"},"Replies"),this.state.commentIdArray?r.a.createElement(L,{commentIdArray:this.state.commentIdArray}):"")}}]),t}(r.a.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",null,this.props.commentIdArray.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(A,{id:e}))}))}}]),t}(r.a.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement("div",{className:"comments-overlay clearfix"},r.a.createElement("div",{className:"title"},this.props.location.state.story.title),r.a.createElement("div",{className:"commentlists"},r.a.createElement("span",{className:"titlecomments"},"Comments"),r.a.createElement(L,{commentIdArray:this.props.location.state.story.commentIdArray}))))}}]),t}(r.a.Component),J=function(){return r.a.createElement("div",{className:"pagenotfound"},r.a.createElement(N.a,{to:"/"},r.a.createElement("button",null,"Go Home")))},U=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:O}),r.a.createElement(h.a,{path:"/askStory",component:M}),r.a.createElement(h.a,{path:"/newStory",component:D}),r.a.createElement(h.a,{path:"/jobStory",component:I}),r.a.createElement(h.a,{path:"/item/:id",component:F}),r.a.createElement(h.a,{path:"/bookmarks",component:S}),r.a.createElement(h.a,{path:"/login",component:x}),r.a.createElement(h.a,{path:"/register",component:j}),r.a.createElement(h.a,{component:J}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.86f86b67.chunk.js.map